<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/3.0.2/vega.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/2.0.0-beta.21/vega-lite.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/3.0.0-beta.19/vega-embed.js"></script>
  <style>
    body {
      font-family: sans-serif;
    }

    .vega-actions a {
      padding: 5px;
    }
  </style>
</head>

<body>

<button id="myBtn">Swap</button>

  <div id="vis"></div>

  <script>
    const opt = {"actions":false}
    var spec = "average-per-year.json";


    vega.embed('#vis', spec, opt).then(function(result) {
    // access view as result.view
    }).catch(console.error);


    var el = document.getElementById("myBtn");
    el.addEventListener("click", swapViz, false);

    function swapViz(){
      var spec2 = "test.json";
      vega.embed('#vis', spec2, opt).then(function(result) {
      // access view as result.view
      }).catch(console.error);


    }


  </script>
</body>
